<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xem Giá Vàng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(180deg, #f8fafc, #e2e8f0);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .chart-container {
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 16px;
            margin-bottom: 16px;
        }
        .time-btn {
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        .time-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.12);
        }
        table tr {
            transition: background-color 0.2s ease;
        }
        table tr:hover {
            background-color: #f1f5f9;
        }
        .table-container {
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            overflow-x: auto;
        }
        footer {
            background: rgba(0, 0, 0, 0.03);
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        /* Mobile-specific styles */
        @media (max-width: 640px) {
            .container {
                padding: 12px;
            }
            h1 {
                font-size: 1.5rem;
                margin-bottom: 1.25rem;
            }
            .time-btn {
                padding: 8px 12px;
                font-size: 0.8125rem;
            }
            .chart-container {
                padding: 12px;
            }
            table th, table td {
                padding: 8px 10px;
                font-size: 0.8125rem;
            }
        }
        
        /* Tablet-specific styles */
        @media (min-width: 641px) and (max-width: 1024px) {
            .container {
                padding: 18px;
            }
            .time-btn {
                padding: 10px 16px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <h1 class="text-xl md:text-2xl font-bold text-amber-600">Giá Vàng Hôm Nay</h1>
                <div class="text-sm text-gray-500">Cập nhật: <span id="update-time"></span></div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow">
        <div class="container mx-auto px-4 py-6 max-w-6xl">
            <!-- Nút chọn khoảng thời gian -->
            <div class="flex justify-center mb-6 md:mb-8 flex-wrap gap-2 md:gap-3">
                <button onclick="updateChart('1W')" class="time-btn px-3 md:px-4 py-1.5 md:py-2 bg-white text-amber-600 rounded-lg font-medium hover:bg-amber-50 text-xs md:text-sm border-amber-200">1 Tuần</button>
                <button onclick="updateChart('1M')" class="time-btn px-3 md:px-4 py-1.5 md:py-2 bg-white text-amber-600 rounded-lg font-medium hover:bg-amber-50 text-xs md:text-sm border-amber-200">1 Tháng</button>
                <button onclick="updateChart('3M')" class="time-btn px-3 md:px-4 py-1.5 md:py-2 bg-white text-amber-600 rounded-lg font-medium hover:bg-amber-50 text-xs md:text-sm border-amber-200">3 Tháng</button>
            </div>

            <!-- Biểu đồ -->
            <div class="chart-container">
                <canvas id="goldPriceChart"></canvas>
            </div>

            <!-- Bảng dữ liệu -->
            <div class="table-container bg-white p-4 md:p-6">
                <h2 class="text-lg md:text-xl font-semibold text-gray-700 mb-3 md:mb-4">Dữ Liệu Giá Vàng</h2>
                <div class="overflow-x-auto">
                    <table class="w-full text-center border-collapse min-w-[600px]">
                        <thead>
                            <tr class="bg-gray-50 text-gray-600">
                                <th class="p-3 md:p-4 font-medium md:font-semibold text-xs md:text-sm">Ngày</th>
                                <th class="p-3 md:p-4 font-medium md:font-semibold text-xs md:text-sm">Vàng 24K (USD/oz)</th>
                                <th class="p-3 md:p-4 font-medium md:font-semibold text-xs md:text-sm">Vàng 18K (USD/oz)</th>
                                <th class="p-3 md:p-4 font-medium md:font-semibold text-xs md:text-sm">Vàng SJC (USD/oz)</th>
                            </tr>
                        </thead>
                        <tbody id="goldPriceTable"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="py-4">
        <div class="container mx-auto px-4">
            <div class="text-center text-xs md:text-sm text-gray-500">
                <p>Dữ liệu được cập nhật hàng ngày | © 2025 Giá Vàng Việt Nam</p>
                <p class="mt-1">Thông tin chỉ mang tính chất tham khảo</p>
            </div>
        </div>
    </footer>

    <script>
        // Mock data giá vàng
        const mockGoldData = {
            '1W': [
                { date: '19/05', price24K: 2430.5, price18K: 1822.9, priceSJC: 2450.0 },
                { date: '20/05', price24K: 2435.2, price18K: 1826.4, priceSJC: 2455.0 },
                { date: '21/05', price24K: 2428.7, price18K: 1821.5, priceSJC: 2448.0 },
                { date: '22/05', price24K: 2440.1, price18K: 1830.1, priceSJC: 2460.5 },
                { date: '23/05', price24K: 2432.9, price18K: 1824.7, priceSJC: 2453.2 },
                { date: '24/05', price24K: 2438.4, price18K: 1828.8, priceSJC: 2458.9 },
                { date: '25/05', price24K: 2442.3, price18K: 1831.7, priceSJC: 2462.8 }
            ],
            '1M': [
                { date: '26/04', price24K: 2410.0, price18K: 1807.5, priceSJC: 2430.0 },
                { date: '28/04', price24K: 2412.5, price18K: 1809.4, priceSJC: 2432.5 },
                { date: '30/04', price24K: 2415.5, price18K: 1811.6, priceSJC: 2435.5 },
                { date: '02/05', price24K: 2418.0, price18K: 1813.5, priceSJC: 2438.0 },
                { date: '05/05', price24K: 2420.3, price18K: 1815.2, priceSJC: 2440.3 },
                { date: '08/05', price24K: 2423.7, price18K: 1817.8, priceSJC: 2443.7 },
                { date: '11/05', price24K: 2427.2, price18K: 1820.4, priceSJC: 2447.2 },
                { date: '14/05', price24K: 2429.8, price18K: 1822.4, priceSJC: 2449.8 },
                { date: '17/05', price24K: 2432.0, price18K: 1824.0, priceSJC: 2452.0 },
                { date: '20/05', price24K: 2435.2, price18K: 1826.4, priceSJC: 2455.2 },
                { date: '23/05', price24K: 2438.9, price18K: 1829.2, priceSJC: 2458.9 },
                { date: '25/05', price24K: 2442.3, price18K: 1831.7, priceSJC: 2462.3 }
            ],
            '3M': [
                { date: '25/02', price24K: 2390.0, price18K: 1792.5, priceSJC: 2410.0 },
                { date: '01/03', price24K: 2395.0, price18K: 1796.3, priceSJC: 2415.0 },
                { date: '08/03', price24K: 2398.5, price18K: 1798.9, priceSJC: 2418.5 },
                { date: '15/03', price24K: 2402.0, price18K: 1801.5, priceSJC: 2422.0 },
                { date: '22/03', price24K: 2405.7, price18K: 1804.3, priceSJC: 2425.7 },
                { date: '29/03', price24K: 2410.0, price18K: 1807.5, priceSJC: 2430.0 },
                { date: '05/04', price24K: 2415.0, price18K: 1811.3, priceSJC: 2435.0 },
                { date: '12/04', price24K: 2418.5, price18K: 1813.9, priceSJC: 2438.5 },
                { date: '19/04', price24K: 2422.0, price18K: 1816.5, priceSJC: 2442.0 },
                { date: '26/04', price24K: 2425.7, price18K: 1819.3, priceSJC: 2445.7 },
                { date: '03/05', price24K: 2429.0, price18K: 1821.8, priceSJC: 2449.0 },
                { date: '10/05', price24K: 2432.5, price18K: 1824.4, priceSJC: 2452.5 },
                { date: '17/05', price24K: 2435.7, price18K: 1826.8, priceSJC: 2455.7 },
                { date: '24/05', price24K: 2438.9, price18K: 1829.2, priceSJC: 2458.9 },
                { date: '25/05', price24K: 2442.3, price18K: 1831.7, priceSJC: 2462.3 }
            ]
        };

        // Hàm định dạng giá với dấu phân cách hàng nghìn
        function formatPrice(price) {
            return price.toFixed(1).replace(/\d(?=(\d{3})+\.)/g, '$&,');
        }

        // Khởi tạo biểu đồ
        const ctx = document.getElementById('goldPriceChart').getContext('2d');
        let goldPriceChart;

        // Hàm tạo gradient màu
        function createGradient(ctx, colorStart, colorEnd) {
            const gradient = ctx.createLinearGradient(0, 0, 0, 400);
            gradient.addColorStop(0, colorStart);
            gradient.addColorStop(1, colorEnd);
            return gradient;
        }

        // Khởi tạo biểu đồ
        function initChart() {
            goldPriceChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [
                        {
                            label: 'Vàng 24K',
                            data: [],
                            borderColor: function(context) {
                                return createGradient(context.chart.ctx, '#f1c40f', '#f7e1a1');
                            },
                            pointBackgroundColor: '#f1c40f',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2,
                            pointRadius: 4,
                            pointHoverRadius: 6,
                            tension: 0.4,
                            fill: false,
                            borderWidth: 3
                        },
                        {
                            label: 'Vàng 18K',
                            data: [],
                            borderColor: function(context) {
                                return createGradient(context.chart.ctx, '#2ecc71', '#a8e4c3');
                            },
                            pointBackgroundColor: '#2ecc71',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2,
                            pointRadius: 4,
                            pointHoverRadius: 6,
                            tension: 0.4,
                            fill: false,
                            borderWidth: 3
                        },
                        {
                            label: 'Vàng SJC',
                            data: [],
                            borderColor: function(context) {
                                return createGradient(context.chart.ctx, '#9b59b6', '#d7bde2');
                            },
                            pointBackgroundColor: '#9b59b6',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2,
                            pointRadius: 4,
                            pointHoverRadius: 6,
                            tension: 0.4,
                            fill: false,
                            borderWidth: 3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    aspectRatio: window.innerWidth < 768 ? 1.2 : 2,
                    animation: {
                        duration: 1000,
                        easing: 'easeOutQuart'
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: 'Giá (USD/oz)',
                                font: { size: 12, weight: '600' }
                            },
                            grid: {
                                color: '#e2e8f0',
                                lineWidth: 1
                            },
                            ticks: {
                                callback: function(value) {
                                    return formatPrice(value);
                                },
                                font: {
                                    size: 10
                                }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Ngày',
                                font: { size: 12, weight: '600' }
                            },
                            grid: {
                                display: false
                            },
                            ticks: {
                                font: {
                                    size: 10
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                font: { size: 12, weight: '600' },
                                padding: 10,
                                usePointStyle: true,
                                boxWidth: 8
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.85)',
                            titleFont: { size: 12, weight: '600' },
                            bodyFont: { size: 11 },
                            padding: 10,
                            cornerRadius: 6,
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: ${formatPrice(context.raw)} USD/oz`;
                                }
                            }
                        }
                    },
                    interaction: {
                        mode: 'index',
                        intersect: false
                    }
                }
            });
        }

        // Hàm cập nhật biểu đồ và bảng
        function updateChart(period) {
            const data = mockGoldData[period];
            const labels = data.map(item => item.date);
            const prices24K = data.map(item => item.price24K);
            goldPriceChart.data.labels = labels;
            goldPriceChart.data.datasets[0].data = prices24K;
            goldPriceChart.data.datasets[1].data = data.map(item => item.price18K);
            goldPriceChart.data.datasets[2].data = data.map(item => item.priceSJC);
            goldPriceChart.update();

            // Cập nhật bảng
            const tableBody = document.getElementById('goldPriceTable');
            tableBody.innerHTML = '';
            data.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="p-3 md:p-4 border-b border-gray-200 text-xs md:text-sm">${item.date}</td>
                    <td class="p-3 md:p-4 border-b border-gray-200 text-xs md:text-sm">${formatPrice(item.price24K)}</td>
                    <td class="p-3 md:p-4 border-b border-gray-200 text-xs md:text-sm">${formatPrice(item.price18K)}</td>
                    <td class="p-3 md:p-4 border-b border-gray-200 text-xs md:text-sm">${formatPrice(item.priceSJC)}</td>`;
                tableBody.appendChild(row);
            });
            
            // Cập nhật thời gian
            const now = new Date();
            document.getElementById('update-time').textContent = now.toLocaleString('vi-VN');
        }

        // Khởi tạo biểu đồ và hiển thị dữ liệu 1 tuần
        initChart();
        updateChart('1W');
        
        // Xử lý responsive cho biểu đồ khi thay đổi kích thước màn hình
        window.addEventListener('resize', function() {
            if (goldPriceChart) {
                goldPriceChart.options.aspectRatio = window.innerWidth < 768 ? 1.2 : 2;
                goldPriceChart.resize();
            }
        });
    </script>
</body>
</html>